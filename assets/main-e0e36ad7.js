import{b as a}from"./init-d40afb2b.js";const s="opened_dors_zone",r="closed_dors_zone",t="zone",i="entry_zone",l="exit_zone",n=6,c=()=>{for(let e=1;e<=n;e++)WA.room.showLayer(`dors/${r}${e}`),WA.room.hideLayer(`dors/${s}${e}`),WA.state[`${t}${e}`]={doorState:!1,nbrOfUsers:0}},b=async()=>{for(let e=1;e<=n;e++)WA.room.onEnterLayer(`floor_entry_exit/${i}${e}`).subscribe(async()=>{const o=WA.state[`${t}${e}`];o&&o.nbrOfUsers<2&&(WA.state[`${t}${e}`]={doorState:!(o!=null&&o.doorState),nbrOfUsers:o==null?void 0:o.nbrOfUsers})}),WA.room.onEnterLayer(`floor_entry_exit/${l}${e}`).subscribe(async()=>{const o=WA.state[`${t}${e}`];o&&(WA.state[`${t}${e}`]={doorState:!(o!=null&&o.doorState),nbrOfUsers:(o==null?void 0:o.nbrOfUsers)+1}),o.nbrOfUsers===2&&(WA.state[`${t}${e}`]={doorState:!(o!=null&&o.doorState),nbrOfUsers:(o==null?void 0:o.nbrOfUsers)-1})})},A=()=>{for(let e=1;e<=n;e++)WA.state.onVariableChange(`${t}${e}`).subscribe(o=>{o.doorState?(WA.room.showLayer(`dors/${s}${e}`),WA.room.hideLayer(`dors/${r}${e}`)):(WA.room.showLayer(`dors/${r}${e}`),WA.room.hideLayer(`dors/${s}${e}`))})};WA.onInit().then(()=>{console.log("Player tags: ",WA.player.tags),console.log("Player ID: ",WA.player.id);let e;WA.room.area.onEnter("getinfo").subscribe(async()=>{e=await WA.ui.website.open({url:"./formulaire.html",position:{vertical:"top",horizontal:"middle"},size:{height:"120vh",width:"50vw"},margin:{top:"3vh"},allowApi:!0})}),WA.room.area.onLeave("getinfo").subscribe(()=>{e.close()}),a().then(()=>{console.log("Scripting API Extra ready")}).catch(o=>console.error(o)),c(),b(),A()}).catch(e=>console.error(e));var $={id:"1",nom:"nom",prenom:"prenom",age:"age",symptomes:"symptome"},d={id:"1",nom:"nom",prenom:"prenom",age:"age",symptomes:"symptome"};WA.state.saveVariable("patients",{Patient1:$,Patient2:d}).catch(e=>console.error("Something went wrong while saving variable",e));WA.room.area.onEnter("visibleNote").subscribe(async()=>{console.log("Entering visibleNote layer")});
