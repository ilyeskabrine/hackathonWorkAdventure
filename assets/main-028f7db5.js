import{b as a}from"./init-d40afb2b.js";const s="opened_dors_zone",r="closed_dors_zone",t="zone",i="entry_zone",l="exit_zone",n=6,c=()=>{for(let o=1;o<=n;o++)WA.room.showLayer(`dors/${r}${o}`),WA.room.hideLayer(`dors/${s}${o}`),WA.state[`${t}${o}`]={doorState:!1,nbrOfUsers:0}},A=async()=>{for(let o=1;o<=n;o++)WA.room.onEnterLayer(`floor_entry_exit/${i}${o}`).subscribe(async()=>{const e=WA.state[`${t}${o}`];e&&e.nbrOfUsers<2&&(WA.state[`${t}${o}`]={doorState:!(e!=null&&e.doorState),nbrOfUsers:e==null?void 0:e.nbrOfUsers})}),WA.room.onEnterLayer(`floor_entry_exit/${l}${o}`).subscribe(async()=>{const e=WA.state[`${t}${o}`];e&&(WA.state[`${t}${o}`]={doorState:!(e!=null&&e.doorState),nbrOfUsers:(e==null?void 0:e.nbrOfUsers)+1}),e.nbrOfUsers===2&&(WA.state[`${t}${o}`]={doorState:!(e!=null&&e.doorState),nbrOfUsers:(e==null?void 0:e.nbrOfUsers)-1})})},$=()=>{for(let o=1;o<=n;o++)WA.state.onVariableChange(`${t}${o}`).subscribe(e=>{e.doorState?(WA.room.showLayer(`dors/${s}${o}`),WA.room.hideLayer(`dors/${r}${o}`)):(WA.room.showLayer(`dors/${r}${o}`),WA.room.hideLayer(`dors/${s}${o}`))})};WA.onInit().then(()=>{console.log("Player tags: ",WA.player.tags),console.log("Player ID: ",WA.player.id);let o;WA.room.area.onEnter("getinfo").subscribe(async()=>{o=await WA.ui.website.open({url:"./formulaire.html",position:{vertical:"top",horizontal:"middle"},size:{height:"120vh",width:"50vw"},margin:{top:"3vh"},allowApi:!0})}),WA.room.area.onLeave("getinfo").subscribe(()=>{o.close()}),a().then(()=>{console.log("Scripting API Extra ready")}).catch(e=>console.error(e)),c(),A(),$()}).catch(o=>console.error(o));WA.room.area.onEnter("visibleNote").subscribe(async()=>{console.log("Entering visibleNote layer")});
